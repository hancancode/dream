<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>꿈만 같은 세상</title>
  <style type="text/css">

    @font-face {
    font-family: 'LeeSeoyun';
    src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2202-2@1.0/LeeSeoyun.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
    body{font-family: 'LeeSeoyun';}


    #poetText, #poetText2 {
      z-index: 9;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);  /* 화면 중앙에 위치 */
      font-size: 2rem;
      line-height: 200%;
      text-align: left;  /* 왼쪽 정렬로 설정 */
      width: 80%;  /* 텍스트가 너무 넓게 퍼지지 않도록 제한 */
    }
    .letter {
      opacity: 0;
      animation: fadein 1s forwards;
    }
    .space {
      display: inline-block;
      width: 1rem;  /* 공백을 나타내기 위한 너비 */
    }
    .lineFadeOut {
      opacity: 1;
      animation: fadeout 1s forwards;
    }
    @keyframes fadein {
      to {
        opacity: 1;
      }
    }
    @keyframes fadeout {
      to {
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div id="poetText"></div> <!-- 첫 번째 문장 출력 -->
  <div id="poetText2"></div> <!-- 두 번째 문장 출력 (초기에는 보이지 않음) -->
  
  <script type="text/javascript">
    var poet1 = "흠... 아래를 잘 살피라는 말이지...";
    var poet2 = "네잎클로버라도 주우려나?";

    var poetArray1 = poet1.split("");  // 첫 번째 문장의 글자별로 분리
    var poetArray2 = poet2.split("");  // 두 번째 문장의 글자별로 분리

    var s1 = 0, s2 = 0;
    var myTimer1, myTimer2;

    // 첫 번째 문장 출력 시작
    function startPoet1() {
      myTimer1 = setInterval(print1, 100);
    }

    function print1() {
      var t = document.createElement("span");

      if (poetArray1[s1] === " ") {
        t.className = "space";  // 공백 처리
      } else {
        t.className = "letter";  // 철자 처리
        t.innerHTML = poetArray1[s1];
      }
      poetText.appendChild(t);
      s1++;

      if (s1 == poetArray1.length) {
        clearInterval(myTimer1);  // 첫 번째 문장 끝나면 타이머 종료
        setTimeout(fadeOutPoet1, 700);  // 1초 후 첫 번째 문장 페이드아웃 시작
        setTimeout(startPoet2, 1000);  // 2초 후 두 번째 문장 출력 시작
      }
    }


    // 두 번째 문장 출력 시작
    function startPoet2() {
      var poetText2 = document.getElementById("poetText2");
      poetText2.style.opacity = "1";  // 두 번째 텍스트 보이게 설정
      myTimer2 = setInterval(print2, 100);
    }

    function print2() {
      var t = document.createElement("span");

      if (poetArray2[s2] === " ") {
        t.className = "space";  // 공백 처리
      } else {
        t.className = "letter";  // 철자 처리
        t.innerHTML = poetArray2[s2];
      }
      poetText2.appendChild(t);
      s2++;

      if (s2 == poetArray2.length) {
        clearInterval(myTimer2);  // 두 번째 문장 끝나면 타이머 종료
        setTimeout(fadeOutPoet2, 700);  // 1초 후 두 번째 문장 페이드아웃 시작
      }
    }

    // 첫 번째 문장 페이드아웃
    function fadeOutPoet1() {
      poetText.classList.add("lineFadeOut");  // 첫 번째 문장 페이드아웃
    }

    // 두 번째 문장 페이드아웃
    function fadeOutPoet2() {
      poetText2.classList.add("lineFadeOut");
        // 두 번째 문장 페이드아웃
        setTimeout(function() {
    window.location.href = "../3_clover/index.html";
  }, 1000);  // 1초 후 이동
    }
    // 첫 번째 문장 출력 시작
    startPoet1();


  </script>
</body>
</html>
