<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>1</title>
  <style>
    @font-face {
      font-family: 'LeeSeoyun';
      src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2202-2@1.0/LeeSeoyun.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
    body {
      font-family: 'LeeSeoyun';
      background-image: url('./img/bg.webp');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      height: 100vh;
      text-align: center;
    }
    h1, p { color: white; }
    .container {
      max-width: 500px;
      width: 100%;
      padding: 0 20px;
    }

    img {
      width: 100%;
      object-fit: contain;
    }

    img:hover {
      transform: scale(1.1);
      transition: 0.1s ease-in;
      cursor: pointer;

    }

    img:active {
      transform: scale(0.9);
      filter: brightness(0.7);
    }

    h1 {
      font-size: 3rem;
      margin: 20px 0 10px;
    }

    p {
      font-size: 1.2rem;
      margin: 0 0 20px;
    }

    #letterspace .fortune-box {
      position: relative;
      width: 800px;
      height: 50px;
      background-color: white;
      color: grey;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 20px;
      font-size: 1.5rem;
      border-radius: 5px;
      opacity: 0;
      animation: fadeIn 1s forwards;
      transition: transform 0.1s ease-in, filter 0.1s ease-in;
      cursor: pointer;
    }

    #letterspace .fortune-box:hover {
      transform: scale(1.1);
    }

    #letterspace .fortune-box:active {
      transform: scale(0.9);
      filter: brightness(0.7);
    }

    @keyframes blink {
      0% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 0; }
    }

    #letterspace .click-label {
      position: absolute;
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      color: yellow;
      font-size: 1rem;
      opacity: 0;
      animation: fadeIn 2s forwards, blink 2s ease-in-out infinite;
      animation-delay: 1s;
    }

#new-fade-box {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: white;
  z-index: 9999;
  opacity: 1;
  animation: newFadeOut 4s forwards; /* 새로운 fadeOut 애니메이션 */
}

@keyframes newFadeOut {
  0% { opacity: 1; }
  100% { opacity: 0; }
}


    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

#fade-box {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: white;
  z-index: 9999;
  opacity: 0;
  animation: fadeIn 2s forwards; /* fadeIn 애니메이션 추가 */
}

    @media (min-width: 500px) {
      .container {
        position: absolute;
        width: 40%;
        top: 25vh;
      }

      h1 {
        font-size: 4rem;
        position: absolute;
        top: 10vh;
      }

      p { font-size: 1.5rem; }

      #letterspace { position: absolute; bottom: 20vh; }
    }
  </style>
</head>
<body>

  <h1>꿈만 같은 세상</h1>
  <div class="container">
    <img src="./img/12.png" id="cookie" alt="Responsive Image">
    <p>오늘의 포춘 쿠키를 확인해 보세요.</p>
  </div>
  <div id="letterspace"></div>

<script type="text/javascript">
window.onload = function() {
  // 페이지 로드 시 새로운 fadeBox 추가
  let newFadeBox = document.createElement("div");
  newFadeBox.id = "new-fade-box"; // 새로운 흰 박스 아이디
  document.body.appendChild(newFadeBox); // body에 추가

  // 2초 후 z-index를 낮춰 다른 클릭이 가능하도록 설정
  setTimeout(() => {
    newFadeBox.style.zIndex = "-999"; // z-index를 낮춰서 클릭 가능하도록
  }, 1500); // 2초 후
};



cookie.onclick = function () {
  // 기존 박스가 있다면 새로 생성하지 않도록 방지
  if (document.querySelector(".fortune-box")) return;

  // 새 박스 생성
  let fortuneBox = document.createElement("div");
  fortuneBox.className = "fortune-box";
  fortuneBox.textContent = "멈추고 내려다보세요. 행운은 이미 곁에 있어요.";

  // 클릭 유도 라벨 생성
  let clickLabel = document.createElement("div");
  clickLabel.className = "click-label";
  clickLabel.textContent = "click!";

  // 라벨을 박스에 추가
  fortuneBox.appendChild(clickLabel);

  // 박스를 letterspace 안에 추가
  letterspace.appendChild(fortuneBox);

  // 텍스트박스를 클릭했을 때 실행되는 이벤트 추가
  fortuneBox.onclick = function () {
    // 흰 박스 생성
    let fadeBox = document.createElement("div");
    fadeBox.id = "fade-box"; // 흰 박스 아이디
    document.body.appendChild(fadeBox); // body에 흰 박스를 추가

    // 2초 후 페이지 이동
    setTimeout(() => {
      window.location.href = "../2_monologue1/index.html";
    }, 2000);
  };

  // 텍스트박스 애니메이션 종료 후 라벨 페이드인
  fortuneBox.addEventListener("animationend", () => {
    clickLabel.style.opacity = "1"; // 애니메이션이 끝난 뒤 투명도 설정
  });
};

</script>

</body>
</html>
